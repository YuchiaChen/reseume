<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Chartjs</title>
    <style>
    #myChart{
    	width: 100%;

    }
    	
    </style>
</head>
<body>
	<canvas id="myChart" style="width: 100%;"></canvas>
  <button class="update-chart">update</button>



<!-- 先引入Jquery1.12.4版'放在body結束之前 -->
<script
  src="https://code.jquery.com/jquery-1.12.4.js"
  integrity="sha256-Qw82+bXyGq6MydymqBxNPYTaUXXq7c8v3CwiYwLLNXU="
  crossorigin="anonymous"></script>
  <!-- 引入chatjs放在Jquery之後 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js"></script>
  <!-- 最後才放自己要編寫的Javascript -->


<script>
var myChart=document.getElementById('myChart');
    // 前後兩行為相同的方式
    //JQuery寫法
  // var myChart=$('#myChart');

var data={  //宣告一個data裡面有什麼物件
      labels:["Apple" , "Banana" ,"Orange"],
      datasets:[
      {
        label:"數量",
        data:["52","47","93"],
        backgroundColor:["rgba(155,155,5,0.5)","#49668D","#28B375"],
        borderWidth:5,
        borderColor:"#000",
        },
        
       
        {
           label:"數量2",
        data:["33","40","63"],
        backgroundColor:["rgba(255,0,0,0.5)","rgba(0,255,0,0.5)","rgba(0,0,255,0.5)"],
        borderWidth:5,
        
        },
      ],

    };


     var options = {
      rotation:-0.3*Math.PI,
     
        };


    var newdata={  //宣告一個data裡面有什麼物件
      labels:["AA" , "BB" ,"OO"],
      datasets:[
      {
        label:"數量",
        data:["22","27","83"],
        backgroundColor:["rgba(155,155,5,0.5)","#49668D","#28B375"],
        borderWidth:5,
        borderColor:"#000",
        },
        
       
        {
           label:"數量2",
        data:["53","60","23"],
        backgroundColor:["rgba(255,0,0,0.5)","rgba(0,255,0,0.5)","rgba(0,0,255,0.5)"],
        borderWidth:5,
        
        },
      ],

    };

    $('.update-chart').click(function(){
        myCanvas.data=newdata;
        myCanvas.update();  //把新資料取代舊資料

    })



	var myCanvas=new Chart(myChart,{//傳送什麼物件到myChart
		type:"doughnut",//換不同表格都是由type去做修改
		data:data,
	  options: options

	});



</script>
</body>
</html>
